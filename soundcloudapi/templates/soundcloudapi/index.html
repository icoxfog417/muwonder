{% extends "soundcloudapi/_base.html" %}
{% load staticfiles %}

{% block header %}
    <title>muwonder</title>
    <script src="{% static 'soundcloudapi/api.js' %}" ></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js" ></script>
    <link rel="stylesheet" href="{% static 'soundcloudapi/jquery.bxslider/jquery.bxslider.css' %}">
    <link rel="stylesheet" href="{% static 'soundcloudapi/font-awesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'soundcloudapi/index.css' %}">
{% endblock %}

{% block header_menus %}
{% endblock %}

{% block content %}
<div id="playing">
    <div class="container">
        <div class="player" >
            <iframe id="soundcloudwdg" width="100%" >
                この部分は iframe 対応のブラウザで見てください。
            </iframe>
        </div>
    </div>
</div>

<div class="container" style="margin-top:10px">
    <div class="pure-g" >
        <div id="tracks" class="pure-u-1-4 main" data-bind="foreach: tracks">
            <div data-bind="attr: {'class': $parent.trackStyle($index()) }, click:function(){ $parent.widgetLoadByIndex($index()) }">
                <img data-bind="attr: { src: artwork_url }" />
            </div>
        </div>
        <div class="pure-u-3-4 main">
            <div style="position:relative;width:100%;height:100%">
                <div style="position:absolute;bottom:0px;right:0px;width:100%;" >
                    <div data-bind="foreach: session">
                        <div class="arrow_box">
                            <div class="message" data-bind="template: { name: template, data: data }"></div>
                        </div>
                    </div>
                    <div style="width:110px;height:125px;margin-left:auto;">
                        <canvas id="muguide" data-bind="click: ask" width="120" height="120"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block footer %}
    <div id="footer" >
        <div class="pure-g container" >
            <div class="pure-u-1-6" ><button class="pure-button" id="btnPrev" data-bind="click:function(){ widgetMove(false) }"><i class="fa fa-fast-backward"></i></button></div>
            <div class="pure-u-1-6" style="padding-left:3px;"><button class="pure-button" id="btnBack"><i class="fa fa-step-backward"></i></button></div>
            <div class="pure-u-1-3" style="padding-left:3px;padding-right:3px">
                <button class="pure-button" id="btnPlay" data-bind="click: widgetPlay">
                    <i class="fa fa-play" data-bind="visible: !isPlaying()"></i>
                    <i class="fa fa-pause" data-bind="visible: isPlaying()" ></i>
                </button>
            </div>
            <div class="pure-u-1-6" style="padding-right:3px;"><button class="pure-button" id="btnRepeat" data-bind="click:widgetRepeat"><i class="fa fa-repeat"></i></button></div>
            <div class="pure-u-1-6" ><button class="pure-button" id="btnNext" data-bind="click:function(){ widgetMove(true) }"><i class="fa fa-fast-forward"></i></button></div>
            </div>
    </div>

    {% include "soundcloudapi/session_template.html" %}

    <script src="{% static 'soundcloudapi/jquery-cookie/jquery.cookie.js' %}" ></script>
    <script src="{% static 'soundcloudapi/knockoutjs/knockout-3.2.0.js' %}" ></script>
    <script src="{% static 'soundcloudapi/muguide.js' %}" ></script>
    <script src="{% static 'soundcloudapi/behaviorwatcher.js' %}" ></script>
    <script src="{% static 'soundcloudapi/index.js' %}" ></script>

{% endblock %}